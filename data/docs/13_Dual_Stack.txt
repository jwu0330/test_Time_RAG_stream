Dual Stack

Dual Stack（雙協定堆疊）是一種網路配置方式，讓設備同時支援 IPv4 和 IPv6 兩種協定。這是從 IPv4 過渡到 IPv6 期間最常用的策略，確保網路服務的連續性和相容性。

工作原理：
Dual Stack 設備在每個網路介面上同時配置 IPv4 和 IPv6 位址。當應用程式需要建立連線時，會根據目標位址類型選擇適當的協定。DNS 查詢可能返回 A 記錄（IPv4）或 AAAA 記錄（IPv6），系統會優先嘗試 IPv6 連線。

實際部署範例：
- 現代作業系統：Windows、Linux、macOS 預設啟用 Dual Stack
- ISP 網路：同時提供 IPv4 和 IPv6 連線服務
- 企業網路：在過渡期間維持兩種協定的並行運作

Happy Eyeballs 演算法：
為了提供最佳用戶體驗，瀏覽器實作 Happy Eyeballs（RFC 8305），同時嘗試 IPv4 和 IPv6 連線，使用最快回應的協定。這避免了 IPv6 連線失敗時的長時間等待。

技術挑戰：
Dual Stack 需要維護兩套路由表和防火牆規則，增加管理複雜度。某些應用程式可能無法正確處理雙協定環境。長期目標是完全過渡到 IPv6，但 Dual Stack 在可預見的未來仍將是主流配置。
