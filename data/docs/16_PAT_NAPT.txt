PAT / NAPT

PAT（Port Address Translation）或 NAPT（Network Address Port Translation）是 NAT 的一種變體，透過使用不同的傳輸層埠號來區分多個內部連線。這是家用和小型辦公室路由器最常使用的 NAT 類型，也稱為 NAT Overload。

工作機制：
PAT 不僅轉換 IP 位址，還會修改 TCP/UDP 埠號。當多個內部設備同時存取網際網路時，PAT 為每個連線分配唯一的埠號，並在 NAT 表中記錄「內部 IP:埠」到「公有 IP:埠」的對映關係。

實際運作範例：
內部設備 192.168.1.10:5000 存取網站時，PAT 可能轉換為 203.0.113.1:50001。另一台設備 192.168.1.11:5000 的連線可能轉換為 203.0.113.1:50002。透過不同埠號，單一公有 IP 可以支援數千個同時連線。

技術優勢：
PAT 大幅提升了 IP 位址利用率，理論上單一公有 IP 可支援約 65000 個連線（受限於埠號範圍）。這使得家用路由器能夠讓所有家庭設備共享 ISP 提供的單一 IP 位址。

限制與考量：
某些應用程式（如 P2P、線上遊戲）可能需要埠轉發（Port Forwarding）配置。PAT 會增加路由器的處理負擔，需要維護大量的連線狀態表。
